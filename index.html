<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title> UofT Division of Anatomy | GRANTedViewer</title>
</head>
<body style="text-align: center">
    <canvas id="unity-canvas" width=1280 height=720 style="width: 1280px; height: 720px; background: #FFFFFF"></canvas>
    <div>
        <button id="blue-button">Os Coxa</button>
        <button id="red-button">Upper Limb</button>
        <button id="json-button">JSON</button>
        <button id="full-screen">Full Screen</button>
        <button id="firebase-button">Firebase</button>
    </div>
    <script src="Build/ViewGL.loader.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        var bluebutton = document.querySelector("#blue-button");
        var redbutton = document.querySelector("#red-button");
        var jsonbutton = document.querySelector("#json-button");
        var fullscreenButton = document.querySelector("#full-screen");
        var firebasebutton = document.querySelector("#firebase-button");
        createUnityInstance(document.querySelector("#unity-canvas"), {
            dataUrl: "Build/ViewGL.data",
            frameworkUrl: "Build/ViewGL.framework.js",
            codeUrl: "Build/ViewGL.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "DefaultCompany",
            productName: "GRANTedViewer",
            productVersion: "0.1.0",
            // matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
            // devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
        }).then((unityInstance) => {
            //button to pass download URL to DownloadFile Method in unity webgl (attached on GlbImporterManager GameObject)
            bluebutton.onclick = () => {
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://raw.githubusercontent.com/jtran293/ModelTest/main/LabelTest.glb');
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://firebasestorage.googleapis.com/v0/b/test2-repo.appspot.com/o/Pelvis%2FFull_Pelvis_Label.glb?alt=media&token=dc931046-f860-45fb-ba4b-8b1e308d540c');
                unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://firebasestorage.googleapis.com/v0/b/test2-repo.appspot.com/o/Pelvis%2FFull_Pelvis_Label.glb?alt=media&token=0c5bf622-25ad-4162-be53-103b65dd00c9');
                unityInstance.SendMessage('GlbImporterManager', 'DownloadTextFile', 'https://firebasestorage.googleapis.com/v0/b/test2-repo.appspot.com/o/Pelvis%2FFull_Pelvis_Text.txt?alt=media&token=2d8543b1-f75d-434c-9bcc-e2c0e9e22015');

            };
            //button to pass download URL to DownloadFile Method in unity webgl (attached on GlbImporterManager GameObject)
            redbutton.onclick = () => {
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://raw.githubusercontent.com/jtran293/ModelTest/main/ULTest.glb');
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://borealisdata.ca/privateurl.xhtml?token=70773114-d20d-41d4-8f34-6f701c131396/ULTest.glb');
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://borealisdata.ca/api/access/datafile/447258/LabelTest.glb');
                //unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://borealisdata.ca/api/access/datafile/447258?key=42620785-9324-475c-a944-8cf5ab03bfcf');
            };
            //button to pass JSON Object (string) into Unity WebGL viewer
            jsonbutton.onclick = () => {
                var testObject = { name: "JSON Object Works" };
                var jsonString = JSON.stringify(testObject);
                unityInstance.SendMessage('JavascriptHook', 'JSButtonText', jsonString);
                //unityInstance.SendMessage('JavascriptHook', 'JSButton')
            };
            //button to fullscreen
            fullscreenButton.onclick = () => {
                unityInstance.SetFullscreen(1);
            };
            firebasebutton.onclick = () => {

                unityInstance.SendMessage('GlbImporterManager', 'DownloadFile', 'https://firebasestorage.googleapis.com/v0/b/test2-repo.appspot.com/o/ULTest.glb?alt=media&token=b97925f8-44e6-487d-a992-95079b532267');

            };
        });
    </script>
</body>
</html>


